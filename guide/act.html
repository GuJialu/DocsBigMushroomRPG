<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>剧目 | 大蘑菇RPG</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="docs for big-mushroom-rpg">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/assets/css/0.styles.9ad6a129.css" as="style"><link rel="preload" href="/assets/js/app.c1c1986b.js" as="script"><link rel="preload" href="/assets/js/2.8458e9f1.js" as="script"><link rel="preload" href="/assets/js/3.284b6150.js" as="script"><link rel="prefetch" href="/assets/js/10.45ed2adc.js"><link rel="prefetch" href="/assets/js/11.b9e4c50a.js"><link rel="prefetch" href="/assets/js/12.370c36c7.js"><link rel="prefetch" href="/assets/js/13.b9d123f9.js"><link rel="prefetch" href="/assets/js/14.456e80e5.js"><link rel="prefetch" href="/assets/js/15.8a10a134.js"><link rel="prefetch" href="/assets/js/16.2384c605.js"><link rel="prefetch" href="/assets/js/17.a174fa91.js"><link rel="prefetch" href="/assets/js/18.1ca4feda.js"><link rel="prefetch" href="/assets/js/19.7a502508.js"><link rel="prefetch" href="/assets/js/20.67d8137a.js"><link rel="prefetch" href="/assets/js/21.84961bc9.js"><link rel="prefetch" href="/assets/js/22.f8071859.js"><link rel="prefetch" href="/assets/js/23.5ca13e6e.js"><link rel="prefetch" href="/assets/js/24.7d8c61b7.js"><link rel="prefetch" href="/assets/js/25.b2dbb2ec.js"><link rel="prefetch" href="/assets/js/26.40a3cc9d.js"><link rel="prefetch" href="/assets/js/27.18571cb0.js"><link rel="prefetch" href="/assets/js/4.dd799e57.js"><link rel="prefetch" href="/assets/js/5.3a631b98.js"><link rel="prefetch" href="/assets/js/6.d0c53463.js"><link rel="prefetch" href="/assets/js/7.322f3467.js"><link rel="prefetch" href="/assets/js/8.722d7b24.js"><link rel="prefetch" href="/assets/js/9.00d86f78.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9ad6a129.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">大蘑菇RPG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><a href="/release/" class="nav-link">
  下载
</a></div><div class="nav-item"><a href="https://store.steampowered.com/app/1433520/RPG/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Steam
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><a href="/release/" class="nav-link">
  下载
</a></div><div class="nav-item"><a href="https://store.steampowered.com/app/1433520/RPG/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Steam
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>文档</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">简介</a></li><li><a href="/guide/storyboard.html" class="sidebar-link">故事板</a></li><li><a href="/guide/character.html" class="sidebar-link">人物</a></li><li><a href="/guide/map.html" class="sidebar-link">地图</a></li><li><a href="/guide/act.html" aria-current="page" class="active sidebar-link">剧目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/act.html#触发方式" class="sidebar-link">触发方式</a></li><li class="sidebar-sub-header"><a href="/guide/act.html#条件" class="sidebar-link">条件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/act.html#例子" class="sidebar-link">例子</a></li><li class="sidebar-sub-header"><a href="/guide/act.html#概率条件" class="sidebar-link">概率条件</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/act.html#剧情" class="sidebar-link">剧情</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/act.html#创建剧情元素" class="sidebar-link">创建剧情元素</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/act.html#剧目优先级" class="sidebar-link">剧目优先级</a></li><li class="sidebar-sub-header"><a href="/guide/act.html#剧目组合流程" class="sidebar-link">剧目组合流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/act.html#线性流程" class="sidebar-link">线性流程</a></li><li class="sidebar-sub-header"><a href="/guide/act.html#分叉流程" class="sidebar-link">分叉流程</a></li><li class="sidebar-sub-header"><a href="/guide/act.html#环形流程" class="sidebar-link">环形流程</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/act.html#特殊剧目用例" class="sidebar-link">特殊剧目用例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/act.html#地点间传送" class="sidebar-link">地点间传送</a></li><li class="sidebar-sub-header"><a href="/guide/act.html#战斗中剧情" class="sidebar-link">战斗中剧情</a></li><li class="sidebar-sub-header"><a href="/guide/act.html#主角死亡处理" class="sidebar-link">主角死亡处理</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/act.html#底层机制" class="sidebar-link">底层机制</a></li></ul></li><li><a href="/guide/act-element.html" class="sidebar-link">剧情元素</a></li><li><a href="/guide/spell.html" class="sidebar-link">技能</a></li><li><a href="/guide/passive.html" class="sidebar-link">被动</a></li><li><a href="/guide/spell-unit.html" class="sidebar-link">技能单元</a></li><li><a href="/guide/item.html" class="sidebar-link">物品</a></li><li><a href="/guide/note.html" class="sidebar-link">注释</a></li><li><a href="/guide/combat.html" class="sidebar-link">战斗系统</a></li><li><a href="/guide/deck.html" class="sidebar-link">卡池</a></li><li><a href="/guide/skin.html" class="sidebar-link">皮肤系统</a></li><li><a href="/guide/customize.html" class="sidebar-link">发布与客制化</a></li><li><a href="/guide/template.html" class="sidebar-link">官方模板剧本</a></li><li><a href="/guide/storytelling.html" class="sidebar-link">RPG剧情设计建议</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="剧目"><a href="#剧目" class="header-anchor">#</a> 剧目</h1> <p><img src="/assets/img/act.bc361180.jpg" alt="剧目"></p> <p>游戏剧情由剧目组成，剧目包含</p> <ul><li><a href="#%E8%A7%A6%E5%8F%91%E6%97%B6%E6%9C%BA">触发时机</a></li> <li><a href="#%E6%9D%A1%E4%BB%B6">条件</a></li> <li><a href="/guide/act-element.html">剧情元素</a></li></ul> <h2 id="触发方式"><a href="#触发方式" class="header-anchor">#</a> 触发方式</h2> <p>触发方式游戏中是触发剧目剧情所需的方式，包括：</p> <ul><li><code>游戏开始</code>： 玩家初次进入游戏时触发</li> <li><code>进入地点</code>： 玩家进入地点时触发</li> <li><code>和人物对话</code>： 和人物对话时触发</li> <li><code>无（条件符合就触发）</code>： 当剧目<a href="#%E6%9D%A1%E4%BB%B6">条件</a>被全部被激活时触发</li> <li><code>人物死亡</code>： 当人物死亡时触发，人物可在死斗模式的<a href="/guide/combat.html">战斗</a>中被杀死或被<a href="/guide/act-element.html">剧情元素</a><a href="/guide/act-element.html#杀死人物">杀死人物</a>杀死</li> <li><code>人物半血</code>： 当人物在<a href="/guide/combat.html">战斗</a>中损失50%血量时触发</li> <li><code>战斗进行到N回合</code>： [战斗]进行到第N回合时触发</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>剧目触发过一次后不会再次触发（<a href="#%E7%8E%AF%E5%BD%A2%E6%B5%81%E7%A8%8B">环形流程</a>除外）</p> <p>人物半血和战斗进行到N回合往往需要搭配<a href="#%E6%9D%A1%E4%BB%B6">条件</a>使用，见<a href="#%E6%88%98%E6%96%97%E4%B8%AD%E5%89%A7%E6%83%85">战斗中剧情</a></p></div> <h2 id="条件"><a href="#条件" class="header-anchor">#</a> 条件</h2> <ul><li>剧目触发需满足的条件</li> <li>条件可被<a href="/guide/act-element.html">剧情元素</a>：<a href="/guide/act-element.html#激活条件">激活条件</a>激活</li> <li>已激活的条件可被<a href="/guide/act-element.html">剧情元素</a>：<a href="/guide/act-element.html#激活条件">移除条件</a>移除</li></ul> <h3 id="例子"><a href="#例子" class="header-anchor">#</a> 例子</h3> <p>只有在BOSS战剧目中激活“主角杀死了BOSS”条件后才可触发杀死BOSS以后的各种剧情，比如路人会向主角欢呼，酒馆中的吟游诗人会歌颂主角。</p> <h3 id="概率条件"><a href="#概率条件" class="header-anchor">#</a> 概率条件</h3> <ul><li>当在条件文本为--&lt;数字&gt;%--（例如--50%--, --33.3%--）时，该条件为概率条件。</li> <li>剧目触发时, 有相应的概率被满足（例如--50%--为条件有50%的概率满足）。</li> <li>概率条件不使用&quot;<a href="/guide/act-element.html#激活条件">激活条件</a>&quot;和&quot;<a href="/guide/act-element.html#激活条件">移除条件</a>&quot;激活和移除。</li></ul> <h2 id="剧情"><a href="#剧情" class="header-anchor">#</a> 剧情</h2> <ul><li>此剧目触发后播放的剧情</li> <li>由剧情元素队列组成，剧情元素包括人物对话，展示图片， 战斗等。详见<a href="/guide/act-element.html">剧情元素</a></li> <li>剧情元素由上往下依次播放，拖动可排序</li></ul> <h3 id="创建剧情元素"><a href="#创建剧情元素" class="header-anchor">#</a> 创建剧情元素</h3> <ul><li><code>点击剧情栏的“+”按钮</code></li> <li><code>选择要添加的剧情元素</code></li> <li><code>填入参数或点击编辑按钮进入编辑</code></li></ul> <h2 id="剧目优先级"><a href="#剧目优先级" class="header-anchor">#</a> 剧目优先级</h2> <p><img src="/assets/img/priority.ddd0e5bc.jpg" alt="剧目优先级"></p> <p>当两个不同剧目的触发时机和条件同时被满足时，会触发优先级更高的剧目。</p> <ul><li>在单个<a href="/guide/storyboard.html#故事板分页">故事板分页</a>中，位置越高的剧目触发优先级越高。</li> <li>如有多个<a href="/guide/storyboard.html#故事板分页">故事板分页</a>，分页位置越高，其中剧目的触发优先级越高。</li></ul> <h2 id="剧目组合流程"><a href="#剧目组合流程" class="header-anchor">#</a> 剧目组合流程</h2> <p>多个剧目可以通过排列组合实现不同的剧情流程，包括</p> <ul><li><a href="#%E7%BA%BF%E6%80%A7%E6%B5%81%E7%A8%8B">线性流程</a></li> <li><a href="#%E5%88%86%E5%8F%89%E6%B5%81%E7%A8%8B">分叉流程</a></li> <li><a href="#%E7%8E%AF%E5%BD%A2%E6%B5%81%E7%A8%8B">环形流程</a></li></ul> <h3 id="线性流程"><a href="#线性流程" class="header-anchor">#</a> 线性流程</h3> <p><img src="/assets/img/liner.a1939399.jpg" alt="线性流程"></p> <ul><li><code>拖动前置剧目右边的箭头&quot;&gt;&quot;，连接到后置剧目左边的箭头&quot;&gt;&quot;</code></li> <li>只有当前置剧目被触发后后置剧目才能被触发</li></ul> <h3 id="分叉流程"><a href="#分叉流程" class="header-anchor">#</a> 分叉流程</h3> <p><img src="/assets/img/branch.fd2d9b22.jpg" alt="分叉流程"></p> <ul><li>通过激活不同条件实现剧情分叉</li></ul> <h3 id="环形流程"><a href="#环形流程" class="header-anchor">#</a> 环形流程</h3> <p><img src="/assets/img/loop.5dc1b3d7.jpg" alt="环形流程"> <img src="/assets/img/muti_loop.4a7f49b7.jpg" alt="环形流程"></p> <ul><li><code>拖动剧目右边的箭头&quot;&gt;&quot;，连接到剧目左边的箭头&quot;&gt;&quot;，组成单剧目环</code></li> <li><code>剧目连接多个剧情后再连接到自身左边的箭头&quot;&gt;&quot;，组成多剧目环</code></li> <li>环形流程会循环触发其中的剧目。</li> <li>多剧目环必须有一个入口剧目（见图）。</li></ul> <h2 id="特殊剧目用例"><a href="#特殊剧目用例" class="header-anchor">#</a> 特殊剧目用例</h2> <ul><li><a href="#%E5%9C%B0%E5%9B%BE%E9%97%B4%E4%BC%A0%E9%80%81">地图间传送</a></li> <li><a href="#%E6%88%98%E6%96%97%E4%B8%AD%E5%89%A7%E6%83%85">战斗中剧情</a></li> <li><a href="#%E4%B8%BB%E8%A7%92%E6%AD%BB%E4%BA%A1%E5%A4%84%E7%90%86">主角死亡处理</a></li></ul> <h3 id="地点间传送"><a href="#地点间传送" class="header-anchor">#</a> 地点间传送</h3> <p><img src="/assets/img/teleport.0539afbc.jpg" alt="地点间传送"></p> <h3 id="战斗中剧情"><a href="#战斗中剧情" class="header-anchor">#</a> 战斗中剧情</h3> <p><img src="/assets/img/combatact.2f65718c.jpg" alt="战斗中剧情"></p> <ul><li>战斗中剧情往往需要在战斗前<a href="./act-element#%E6%BF%80%E6%B4%BB%E6%9D%A1%E4%BB%B6">激活条件</a>, 战斗结束后<a href="./act-element#%E7%A7%BB%E9%99%A4%E6%9D%A1%E4%BB%B6">移除条件</a>来定位到具体的某场战斗</li></ul> <h3 id="主角死亡处理"><a href="#主角死亡处理" class="header-anchor">#</a> 主角死亡处理</h3> <p><img src="/assets/img/death.22da4618.jpg" alt="主角死亡处理"></p> <p>当主角死亡时，玩家在地图上的移动会被禁止。此时游戏作者需根据剧情需要提醒玩家游戏结束，或<a href="/guide/act-element.html#切换主角">切换主角</a></p> <h2 id="底层机制"><a href="#底层机制" class="header-anchor">#</a> 底层机制</h2> <ul><li>玩家在游戏中产生可能会触发剧情的交互（比如进入地区，对话）</li> <li>程序对剧本中所有剧目按<a href="#%E5%89%A7%E7%9B%AE%E4%BC%98%E5%85%88%E7%BA%A7">剧目优先级</a>依次检测</li> <li>如果该剧目
<ol><li>还没触发过或为<a href="#%E7%8E%AF%E5%BD%A2%E6%B5%81%E7%A8%8B">环形剧目</a></li> <li>没有前置剧目（见<a href="#%E7%BA%BF%E6%80%A7%E6%B5%81%E7%A8%8B">线性流程</a>）</li> <li>触发方式与玩家此次的交互一致</li> <li>剧目条件均已激活</li></ol></li> <li>执行该剧目</li> <li>停止向下检测</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/map.html" class="prev">
        地图
      </a></span> <span class="next"><a href="/guide/act-element.html">
        剧情元素
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c1c1986b.js" defer></script><script src="/assets/js/2.8458e9f1.js" defer></script><script src="/assets/js/3.284b6150.js" defer></script>
  </body>
</html>
